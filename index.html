<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- SEO ä¿ç•™ -->
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1">
  <link rel="canonical" href="https://duanlian.xyz/">
  <meta name="googlebot" content="max-snippet:-1">

  <title>æ–­è”å¤šä¹…ç®—ç»“æŸï¼Ÿåœ¨çº¿å…³ç³»æ—¶é—´è®¡ç®—å™¨ - æƒ…æ„Ÿå…³ç³»æ—¶é—´è®¡ç®—</title>
  <meta name="description" content="æ–­è”å¤šä¹…ç®—ç»“æŸï¼Ÿåœ¨çº¿å…³ç³»æ—¶é—´è®¡ç®—å™¨å¸®åŠ©ä½ å¿«é€Ÿç®—å‡ºä¸€æ®µå…³ç³»æŒç»­äº†å¤šä¹…ï¼Œå ç”¨äº†äººç”Ÿå¤šå°‘æ—¶é—´ï¼Œä¸æä¾›ä»»ä½•å»ºè®®ï¼Œä»…ä½œå‚è€ƒã€‚" />

  <!-- Schema.org WebApplication -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "å…³ç³»æ—¶é—´è®¡ç®—å™¨",
    "url": "https://duanlian.xyz",
    "description": "åœ¨çº¿è®¡ç®—ä¸€æ®µå…³ç³»æŒç»­äº†å¤šä¹…ï¼Œå ç”¨äº†ä½ äººç”Ÿå¤šå°‘æ—¶é—´çš„å·¥å…·é¡µé¢",
    "applicationCategory": "Utilities",
    "operatingSystem": "Web"
  }
  </script>

  <!-- Open Graph -->
  <meta property="og:title" content="æ–­è”å¤šä¹…ç®—ç»“æŸï¼Ÿåœ¨çº¿å…³ç³»æ—¶é—´è®¡ç®—å™¨" />
  <meta property="og:description" content="å¿«é€Ÿè®¡ç®—ä¸€æ®µå…³ç³»æŒç»­äº†å¤šä¹…ï¼Œå ç”¨äº†ä½ äººç”Ÿå¤šå°‘æ—¶é—´ï¼Œä¸æä¾›å»ºè®®ï¼Œä»…ä¾›å‚è€ƒã€‚" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://duanlian.xyz" />
  <meta property="og:image" content="https://duanlian.xyz/preview.png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="æ–­è”å¤šä¹…ç®—ç»“æŸï¼Ÿåœ¨çº¿å…³ç³»æ—¶é—´è®¡ç®—å™¨">
  <meta name="twitter:description" content="å¿«é€Ÿè®¡ç®—ä¸€æ®µå…³ç³»æŒç»­äº†å¤šä¹…ï¼Œå ç”¨äº†ä½ äººç”Ÿå¤šå°‘æ—¶é—´ï¼Œä¸æä¾›å»ºè®®ï¼Œä»…ä¾›å‚è€ƒã€‚">
  <meta name="twitter:image" content="https://duanlian.xyz/preview.png">

  <!-- Plausible Analytics -->
  <script async src="https://plausible.io/js/pa-UzWKQXHoJ_r1quqGUAeMG.js"></script>
  <script>
    window.plausible = window.plausible || function () {
      (plausible.q = plausible.q || []).push(arguments)
    }
    plausible.init = plausible.init || function (i) {
      plausible.o = i || {}
    }
    plausible.init()
  </script>

  <!-- html2canvas -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <style>
    body {
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"PingFang SC","Microsoft YaHei",sans-serif;
      background: linear-gradient(160deg,#f5f7fa,#c3cfe2);
      color:#222;
      margin:0;
      padding-top:16px;
      padding-bottom:32px;
    }
    .container {
      max-width:720px;
      width:95%;
      margin:0 auto;
      padding:24px 16px 64px;
      background:#fff;
      box-sizing:border-box;
      border-radius:12px;
      box-shadow:0 4px 20px rgba(0,0,0,0.08);
    }
    h1 { font-size:28px; margin-bottom:12px; line-height:1.3;}
    h2 { font-size:22px; margin-top:40px; line-height:1.3;}
    p { line-height:1.7; margin:12px 0;}
    .intro { color:#444; margin-bottom:32px;}
    .tool { border:1px solid #e5e5e5; padding:20px; border-radius:12px; margin-bottom:32px; background:#fafafa;}
    label { display:block; margin-bottom:6px; font-weight:500;}
    input[type="date"] { width:100%; padding:12px; margin-bottom:16px; font-size:16px; box-sizing:border-box; border-radius:6px; border:1px solid #ccc;}
    button { width:100%; padding:16px; font-size:16px; border:none; border-radius:6px; background:#111; color:#fff; cursor:pointer;}
    button:hover { opacity:0.9;}
    .result { margin-top:24px; padding:20px; border-radius:12px; background:#fff; border:1px solid #ddd; display:none; box-shadow:0 2px 10px rgba(0,0,0,0.05);}
    .result strong { font-size:18px;}
    .explain { margin-top:16px; color:#444;}
    .faq p { margin-bottom:16px;}
    footer { margin-top:48px; font-size:14px; color:#666;}
    .green { color: #2a9d8f; }
    .yellow { color: #e9c46a; }
    .red { color: #e76f51; }
    .share-btn { margin-top:16px; background:#0077cc; color:#fff; }
    .share-btn:hover { opacity:0.85; }
    @media screen and (max-width: 480px) {
      h1 { font-size:24px; }
      h2 { font-size:20px; }
      input[type="date"] { padding:14px; font-size:15px; }
      button { padding:18px; font-size:15px; }
      .container { padding:16px 12px 48px; }
    }
  </style>
</head>

<body>
  <div class="container" id="result-card">
    <h1>è¿™æ®µå…³ç³»ï¼Œå·²ç»æŒç»­äº†å¤šä¹…ï¼Ÿ</h1>

    <div class="intro">
      <p>å¾ˆå¤šäººæ”¾ä¸ä¸‹ï¼Œå¹¶ä¸æ˜¯å› ä¸ºçˆ±å¾—å¤šæ·±ï¼Œ<br />è€Œæ˜¯å› ä¸ºè¿™æ®µå…³ç³»å·²ç»å­˜åœ¨äº†å¤ªä¹…ã€‚</p>
      <p>è¿™ä¸ªå·¥å…·ä¸ä¼šå‘Šè¯‰ä½ è¯¥ä¸è¯¥ç»§ç»­ï¼Œ<br />ä¹Ÿä¸ä¼šæ›¿ä½ åšä»»ä½•åˆ¤æ–­ï¼Œ<br /><strong>å®ƒåªåšä¸€ä»¶äº‹ï¼šæŠŠæ—¶é—´ç®—æ¸…æ¥šã€‚</strong></p>
    </div>

    <div class="tool" id="tool">
      <label for="startDate">å…³ç³»å¼€å§‹æ—¶é—´</label>
      <input type="date" id="startDate" />

      <label for="endDate">æ–­è”æˆ–ç»“æŸæ—¶é—´ï¼ˆå¯é€‰ï¼‰</label>
      <input type="date" id="endDate" />

      <button onclick="calculate()">è®¡ç®—è¿™æ®µå…³ç³»çš„æ—¶é—´</button>

      <div class="result" id="result">
        <p>è¿™æ®µå…³ç³»å·²ç»æŒç»­äº†ï¼š</p>
        <p><strong id="days"></strong></p>
        <p id="months"></p>
        <p id="percent"></p>

        <div class="explain">
          <p>æ—¶é—´æœ¬èº«æ²¡æœ‰å¯¹é”™ã€‚</p>
          <p>ä½†å½“ä¸€æ®µå…³ç³»æŒç»­çš„æ—¶é—´ï¼Œ<br />å·²ç»è¶…è¿‡ä½ åŸæœ¬çš„é¢„æœŸï¼Œ<br />å®ƒå¾€å¾€ä¼šå½±å“ä½ å¯¹å½“ä¸‹çš„åˆ¤æ–­ã€‚</p>
          <p>è¿™ä¸ªæ•°å­—ä¸æ˜¯ç­”æ¡ˆï¼Œ<br />åªæ˜¯ä¸€ä¸ªå‚è€ƒã€‚</p>
        </div>

        <!-- é˜¶æ®µæ˜¾ç¤º -->
        <div id="stage"></div>

        <!-- åˆ†äº«æŒ‰é’® -->
        <button class="share-btn" onclick="shareResult()">ç”Ÿæˆåˆ†äº«å›¾ç‰‡</button>
      </div>
    </div>

    <h2 id="faq">å¸¸è§é—®é¢˜ä¸ä½¿ç”¨è¯´æ˜</h2>

    <div class="faq">
      <p><strong>è¿™ä¸ªç»“æœä»£è¡¨ä»€ä¹ˆï¼Ÿ</strong><br />å®ƒåªä»£è¡¨ä¸€æ®µå…³ç³»åœ¨æ—¶é—´ä¸Šçš„é•¿åº¦ï¼Œä¸ä»£è¡¨æ„Ÿæƒ…çš„è´¨é‡ï¼Œä¹Ÿä¸ä»£è¡¨ä½ åº”è¯¥åšå‡ºä»€ä¹ˆé€‰æ‹©ã€‚</p>

      <p><strong>é€‚ç”¨äºå“ªäº›å…³ç³»ï¼Ÿ</strong><br />é€‚ç”¨äºæ‹çˆ±ã€æš§æ˜§ã€åˆ†å¼€åä»æœ‰è”ç³»ã€æ–­è”é˜¶æ®µç­‰ä»»ä½•ä½ è®¤ä¸ºâ€œè¿˜æ²¡å½»åº•ç»“æŸâ€çš„å…³ç³»ã€‚</p>

      <p><strong>ä½ ä»¬ä¼šä¿å­˜æˆ‘çš„æ•°æ®å—ï¼Ÿ</strong><br />ä¸ä¼šã€‚æ‰€æœ‰è®¡ç®—éƒ½åœ¨ä½ çš„æµè§ˆå™¨ä¸­å®Œæˆï¼Œæˆ‘ä»¬ä¸ä¼šè®°å½•ã€ä¿å­˜æˆ–ä¸Šä¼ ä»»ä½•ä¸ªäººä¿¡æ¯ã€‚</p>
    </div>

    <footer>
      <p>æœ¬å·¥å…·ä»…ç”¨äºæ—¶é—´è®¡ç®—ä¸å‚è€ƒï¼Œä¸æ„æˆä»»ä½•æƒ…æ„Ÿæˆ–å¿ƒç†å»ºè®®ã€‚</p>
      <p><a href="/about.html">å…³äºè¿™ä¸ªå·¥å…·</a></p>
    </footer>
  </div>

  <script>
    // æ—¥æœŸè§£æï¼Œå®Œå…¨ä¸å—æ—¶åŒºå½±å“
    function parseDate(str) {
      const parts = str.split("-");
      return new Date(parts[0], parts[1]-1, parts[2]);
    }

    function calculate() {
      const startInput = document.getElementById("startDate").value;
      const endInput = document.getElementById("endDate").value;

      if (!startInput) { alert("è¯·é€‰æ‹©å…³ç³»å¼€å§‹æ—¶é—´"); return; }

      const todayStr = new Date().toISOString().split("T")[0];
      const startDate = parseDate(startInput);
      const endDate = endInput ? parseDate(endInput) : parseDate(todayStr);

      if (endDate < startDate) { alert("ç»“æŸæ—¶é—´ä¸èƒ½æ—©äºå¼€å§‹æ—¶é—´"); return; }

      // è®¡ç®—å¤©æ•°ï¼ŒåŒ…å«å½“å¤©
      const diffDays = Math.floor((endDate - startDate) / (1000*60*60*24)) + 1;

      const months = Math.floor(diffDays / 30);
      const daysLeft = diffDays % 30;

      const yearsSpan = Math.max(1, new Date().getFullYear() - startDate.getFullYear());
      const percent = ((diffDays / (yearsSpan * 365)) * 100).toFixed(1);

      document.getElementById("days").innerText = `å…±è®¡ï¼š${diffDays} å¤©`;
      document.getElementById("months").innerText = `çº¦åˆï¼š${months} ä¸ªæœˆ ${daysLeft} å¤©`;
      document.getElementById("percent").innerText = `å¦‚æœä»ä½ è¿‡å» ${yearsSpan} å¹´æ¥è®¡ç®—ï¼Œå®ƒå ç”¨äº†ä½ äººç”Ÿçš„å¤§çº¦ ${percent}%ã€‚`;

      // é˜¶æ®µæ–‡æ¡ˆé€»è¾‘
      const stages = {
        green: [
          `ğŸŸ¢ æ–­è” 0â€“7 å¤©ï½œæƒ…ç»ªå†·å´æœŸ<br>è¿™é€šå¸¸ä¸ç®—çœŸæ­£ç»“æŸã€‚`,
          `ğŸŸ¢ æ–­è” 0â€“7 å¤©ï½œåˆæœŸå†·å´<br>åˆšåˆšæ–­è”çš„å‡ å¤©ï¼Œæƒ…ç»ªæ³¢åŠ¨æœ€å¤§ã€‚`,
          `ğŸŸ¢ æ–­è” 0â€“7 å¤©ï½œçŸ­æœŸåœé¡¿<br>å¤§éƒ¨åˆ†å…³ç³»ä»å¤„äºè°ƒæ•´æœŸã€‚`
        ],
        yellow: [
          `ğŸŸ¡ æ–­è” 8â€“30 å¤©ï½œäº‹å®æ–­è£‚æœŸ<br>å…³ç³»å¼€å§‹è¿›å…¥ç°å®å±‚é¢çš„æ–­å¼€ã€‚`,
          `ğŸŸ¡ æ–­è” 8â€“30 å¤©ï½œç¨³å®šåˆ†ç¦»<br>åŒæ–¹è”ç³»è¶Šæ¥è¶Šå°‘ï¼Œå…³ç³»å·²åå‘ä¸­æ­¢çŠ¶æ€ã€‚`,
          `ğŸŸ¡ æ–­è” 8â€“30 å¤©ï½œç°å®å†·å´<br>æ–­è”è¶…è¿‡ä¸€å‘¨åï¼Œå…³ç³»é€æ¸è¿›å…¥åˆ†ç¦»è½¨é“ã€‚`
        ],
        red: [
          `ğŸ”´ æ–­è” 31 å¤©ä»¥ä¸Šï½œå…³ç³»ç»ˆæ­¢æœŸ<br>è¿™æ®µå…³ç³»åœ¨ç°å®å±‚é¢åŸºæœ¬å·²ç»ç»“æŸã€‚`,
          `ğŸ”´ æ–­è” 31 å¤©ä»¥ä¸Šï½œç»“æŸé˜¶æ®µ<br>å…³ç³»å·²æ˜æ˜¾ç»ˆæ­¢ã€‚`,
          `ğŸ”´ æ–­è” 31 å¤©ä»¥ä¸Šï½œå½»åº•æ–­å¼€<br>ä¸“æ³¨äºè‡ªå·±ä¼šæ›´æœ‰æ„ä¹‰ã€‚`
        ]
      };

      function getRandom(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
      let stageHtml = '';
      if(diffDays <= 7) stageHtml = `<p class="green"><strong>${getRandom(stages.green)}</strong></p>`;
      else if(diffDays <=30) stageHtml = `<p class="yellow"><strong>${getRandom(stages.yellow)}</strong></p>`;
      else stageHtml = `<p class="red"><strong>${getRandom(stages.red)}</strong></p>`;

      document.getElementById("stage").innerHTML = stageHtml +
        `<p><em>âš ï¸ æç¤ºï¼šè¿™ä¸ªç»“æœä¸ä¼šæ›¿ä½ åšå†³å®šã€‚å®ƒåªæ˜¯å‘Šè¯‰ä½ ï¼Œä½ ç°åœ¨ç«™åœ¨è¿™æ®µå…³ç³»çš„å“ªä¸€æ®µè·¯ä¸Šã€‚</em></p>`;

      document.getElementById("result").style.display = "block";
      window.location.hash = "#result";
    }

    // åˆ†äº«å›¾ç‰‡åŠŸèƒ½
    function shareResult() {
      const card = document.getElementById("result-card");
      html2canvas(card, {backgroundColor: null}).then(canvas=>{
        const link = document.createElement("a");
        link.download = "å…³ç³»æ—¶é—´ç»“æœ.png";
        link.href = canvas.toDataURL("image/png");
        link.click();
      });
    }
  </script>

</body>
</html>
